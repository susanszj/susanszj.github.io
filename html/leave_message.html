<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
    <meta name="keywords" content="了解哈利·波特,哈利·波特分院测试,了解哈利·波特的最新资讯,欣赏哈利·波特系列电影" />
    <meta name="description" content="该网站测试题目集合了哈利波特的许多故事情节与实景体验，满足了影迷们对魔法世界的幻想" />
    <meta http-equiv="x-ua-compatible" content="IE=7,9,10">
    <title>哈利·波特分院测试</title>
</head>
<link rel="stylesheet" href="../css/common.css">
<link rel="stylesheet" href="../css/font-awesome.min.css">
<script src="../js/jquery-3.5.1.min.js"></script>

<body>
    <div class="listContainer" id="indexContainer">

        <!-- Header Begin -->
        <header class="header white">
            <div class="headerContent">
                <a href="//harry-potter-house-sort" class="logoBox">
                    <p class="text">哈利·波特分院测试</p>
                <nav class="headerMenu">
                    <a class="" href="../index.html">关于哈利·波特</a>
                    <a class="" href="test.html">分院测试</a>
                    <a class="" href="news.html">最新资讯</a>
                    <a class="" href="movies.html">系列电影</a>
                </nav>
                <div class="iconMenu">
                    <div></div>
                    <i id="iconMenu" class="fa fa-bars"></i>
                </div>
            </div>
        </header>

        <div class="box">
			<h1>霍格沃茨收件箱</h1>
			<div class="box1">您的身份
				<select id="pri">
					<option selected>--请选择--</option>
					<option>麻瓜</option>
					<option>学员</option>
					<option>校长</option>
                    <option>院长</option>
                    <option>魔法教授</option>
				</select>
				<button id="search">探索</button>
				<button>上一页</button>
				<button>下一页</button>
			</div>
			<div class="box2">
				留言者
				<input type="text" id="more1"/>
				身份
				<select id="more2">
					<option selected>--请选择--</option>
					<option>麻瓜</option>
					<option>学员</option>
					<option>校长</option>
                    <option>院长</option>
                    <option>魔法教授</option>
				</select>
                
				留言内容
				<input type="text" id="more3"/>
				<button id="more">新增</button>
			</div>
			<div id="box3">
				<ul>
					<li>序号</li>
					<li>留言者</li>
					<li>身份</li>
					<li>留言内容</li>
					<li>操作</li>
				</ul>
				<ul>
					<li>1</li>
					<li>Steam</li>
					<li class="ser">麻瓜</li>
					<li>永远的回忆</li>
					<li>
						<span class="change2">修改</span>
						<span class="del">删除</span>
					</li>
				</ul>
				<ul>
					<li>2</li>
					<li>Frina</li>
					<li class="ser">院长</li>
					<li>你信不信我也养了一只猫头鹰</li>
					<li>
						<span class="change2">修改</span>
						<span class="del">删除</span>
					</li>
				</ul>
				<ul>
					<li>3</li>
					<li>Harry</li>
					<li class="ser">学员</li>
					<li>I will always be here.</li>
					<li>
						<span class="change2">修改</span>
						<span class="del">删除</span>
					</li>
				</ul>
				<ul>
					<li>4</li>
					<li>Clay
                    </li>
					<li class="ser">魔法教授</li>
					<li>忠实原著未必不能打造惊喜</li>
					<li>
						<span class="change2">修改</span>
						<span class="del">删除</span>
					</li>
				</ul>
			</div>
			<ul id="change1">
				<li></li>
				<li><input type="text" id="change1-1"/></li>
				<li class="ser"><input type="text" id="change1-2"/></li>
				<li><input type="text" id="change1-3" /></li>
				<li>
					<span id="sure">确定</span>
					<span id="chance">取消</span>
				</li>
			</ul>
		</div>
        <div class="bottom">
            <p>
               工作时间：8:00-20:00|
               联系我们：110-110-110|
               感谢访问
            </p>
            <p><a href="#">返回顶部</a></p>
            <p>Copyright © 2021 Susan All Rights Reserved</p>
        </div>



        
    </div>
</body>

<script type="text/javascript">

    function scrollClick(num) {
        $('html, body').animate({
            scrollTop: num + "px"
        }, 100);
    }


    $(function () {
        setTimeout(function () {
            let href = window.location.href;
            if(href.indexOf('scrollToBusiness') > -1){
                scrollClick(1400)
            }
            if(href.indexOf('scrollToFooter') > -1){
                scrollClick(7500)
            }
        }, 200)

        let isFlag = false;
        $('.listContainer').on('click', '#iconMenu', function () {
            if (!isFlag) {
                $("#headerNav").show();
                isFlag = true;
            } else {
                $("#headerNav").hide();
                isFlag = false;
            }
        });

        $(".scrollToAboutUs").click(function () {
            scrollClick(0)
        })

        $(".scrollToBusiness").click(function () {
            scrollClick(700)
        })

        $(".scrollToFooter").click(function () {
            scrollClick(7500)
        })
    })

    var ul=document.querySelectorAll("ul")
    var span=document.getElementsByTagName("span")
    var more=document.getElementById("more")
    var more1=document.getElementById("more1")
    var more2=document.getElementById("more2")
    var more3=document.getElementById("more3")
    var more4=document.getElementById("more4")
    var box3=document.getElementById("box3")
    var pri=document.getElementById("pri")
    var search=document.getElementById("search")
    var ser=document.getElementsByClassName("ser")
    var change1=document.getElementById("change1")
    var change2=document.getElementsByClassName("change2")
    var del=document.getElementsByClassName("del")
    var cha1=document.getElementById("change1-1")
    var cha2=document.getElementById("change1-2")
    var cha3=document.getElementById("change1-3")
    var cha4=document.getElementById("change1-4")
    var sure=document.getElementById("sure")
    var chance=document.getElementById("chance")
    //改
    var chan;
    var inp=change1.getElementsByTagName("input")
    for(var i=0;i<change2.length;i++){
        (function(e){
            change2[e].onclick=function(){
                change1.style.display = "block";
                chan=this.parentNode.parentNode
            }
        })(i)
    }
    //确定
    sure.onclick=function(){
        var chan_li=chan.getElementsByTagName("li")
        chan_li[1].innerText=cha1.value
        chan_li[2].innerText=cha2.value
        chan_li[3].innerText=cha3.value
        chan_li[4].innerText=cha4.value
        change1.style.display = "none";
//				赋值后清空文本框内容
        for(var i=0;i<inp.length;i++){
            inp[i].value=""
        }
    }
    //取消
    chance.onclick=function(){
        change1.style.display = "none";
        for(var i=0;i<inp.length;i++){
            inp[i].value=""
        }
    }
    //删
    var chan;
    for(var i=0;i<del.length;i++){
        (function(e){
            del[e].onclick=function(){
                var bool = confirm("是否删除这行");
                if(bool){
                    var del =this.parentNode.parentNode
                    del.remove()
                }

            }
        })(i)
    }
    //增
    //获取下拉框的文本
    var abc
    more2.onchange=function(){
        var index=more2.selectedIndex
        abc=more2[index].innerText
    }
    more.onclick=function(){
        //新增ul
        var ul1= document.createElement("ul")
        //ul赋值内容
        ul1.innerHTML="<li>"+ul.length+"</li><li>"+more1.value+"</li><li class='ser'>"+abc+"</li><li>"+more3.value+"</li><li>"+more4.value+"</li><li><span class='change2'>修改</span> <span class='del'>删除</span></li>"
        box3.appendChild(ul1)
        //给新增的子元素绑定事件
        var new1=ul1.lastChild.lastChild
        new1.onclick=function(){
            var bool = confirm("是否删除这行");
            if(bool){
                var del =this.parentNode.parentNode
                del.remove()
            }
        }
    }
    //查
    //获取查找下拉框的文本
    var bcd
    pri.onchange=function(){
        var index=pri.selectedIndex
        bcd=pri[index].innerText
    }
    search.onclick=function(){
        var ul=document.querySelectorAll("ul")
        //找到和下拉框文本一样的行
        for(var j=0;j<ser.length;j++){
            if(bcd == ser[j].innerText){
                var str=ser[j].parentNode;
                console.log(str)
            }
        }
        //删除所有行
        for(var k=1;k<ul.length;k++){   
            ul[k].remove()
        }
        //添加找到的行
        box3.appendChild(str)
    }
</script>

</html>
